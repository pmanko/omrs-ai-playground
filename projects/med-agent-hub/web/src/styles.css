/* Map app vars to Pico light theme */
:root,
:root[data-theme="light"] {
  --app-bg: var(--pico-background-color);
  --app-text: var(--pico-color);
  --app-card: var(--pico-card-background-color);
  --app-border: var(--pico-muted-border-color, var(--pico-form-element-border-color));
  --app-primary: var(--pico-primary);
}

html, body { background: var(--app-bg); color: var(--app-text); }

/* Markdown content styles (global) */
.message-content h1,
.message-content h2,
.message-content h3,
.message-content h4,
.message-content h5,
.message-content h6 { margin: .4rem 0 .25rem; }
.message-content p { margin: .5rem 0; }
.message-content ul,
.message-content ol { padding-left: 1.25rem; margin: .5rem 0; }
.message-content li { margin: .25rem 0; }
.message-content pre { background: #f3f4f6; border: 1px solid var(--app-border); border-radius: .5rem; padding: .75rem; overflow-x: auto; }
.message-content code { background: #f3f4f6; border: 1px solid var(--app-border); border-radius: .25rem; padding: .1rem .35rem; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
.message-content blockquote { border-left: 3px solid var(--app-border); padding-left: .75rem; margin: .5rem 0; color: #4b5563; background: #fafafa; }

/* App layout and components (moved from App.svelte) */
.chat-window { padding: 0 0 200px 0; background: var(--app-bg); display: flex; flex-direction: column; gap: 1rem; min-height: calc(100vh - 200px); }
.message { max-width: 80%; margin: 0; }
.message { background: transparent; padding: 0; border: none; box-shadow: none; }
.message-content { padding: .75rem 1rem; border-radius: 1rem; margin: 0; }
.user-message { align-self: flex-end; }
.user-message .message-content { background: var(--app-primary); color: #fff; border-bottom-right-radius: .25rem; }
.model-message { align-self: flex-start; }
.model-message .message-content { background: lightblue; color: var(--app-text); border: none; border-bottom-left-radius: .25rem; }

.chat-form { position: fixed; bottom: 40px; left: 0; right: 0; margin: 0; padding: 1rem; background: var(--app-bg); border-top: 1px solid var(--app-border); box-shadow: 0 -2px 10px rgba(0,0,0,.1); z-index: 1000; }
.chat-form .form-content { max-width: 1200px; margin: 0 auto; padding: 0 .5rem; }
/* Let Pico handle fieldset role=group to attach input and buttons */
.chat-form fieldset[role="group"] { display: flex; gap: 0.5rem; flex-direction: row; }
.chat-form fieldset[role="group"]:focus-within { outline: none; box-shadow: none; }
.chat-form fieldset[role="group"] .button-group{
  display: flex;
  gap: 0.5rem;
  justify-content: flex-end;
  align-items: center;
}
.chat-form fieldset[role="group"] .button-group button{
  margin: 0;
  white-space: nowrap;
  padding: 0.75rem 1.5rem;
  border-radius: var(--pico-border-radius);
  flex-shrink: 0;
}

.chat-form button:disabled { opacity: .6; cursor: not-allowed; }
.bottom-footer { position: fixed; bottom: 0; left: 0; right: 0; text-align: center; padding: .5rem; border-top: 1px solid var(--app-border); background: var(--app-bg); }

.link-like { background: none; border: none; padding: .25rem .5rem; text-align: left; cursor: pointer; color: var(--app-text); }
header nav summary span { color: var(--app-text); max-width: 16ch; display: inline-block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; vertical-align: bottom; }
header nav ul { gap: .5rem; }


.message.system-message .message-content p { color: white; padding: 100px; }